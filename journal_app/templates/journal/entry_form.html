{% extends "base.html" %}

{% load static %}
{% load crispy_forms_tags %}

{% block head %}
  {{ form.media }}
{% endblock %}

{% block title %}{{ view.action|default:'Add' }} Entry{% endblock %}

{% block content %}
  {% with action=view.action|default:'Add' %}
  <h1>{{ action }} Entry</h1>
  <form method="post" action=".">
    {% csrf_token %}
    <button type="submit" class="btn btn-primary btn-lg btn-block">{{ action }}</button>
    {{ form.title|as_crispy_field }}
    {{ form.public|as_crispy_field }}
    {{ form.body|as_crispy_field }}

    {{ form.contact|as_crispy_field }}
    <!-- Attempting to make the check boxes more friendly
    <div class="row">
      <div class="col-lg-12">
        {% for contact in form.contact %}
          <div class="btn-group-toggle" data-toggle="buttons">
            <label class="btn btn-primary active{% if contact.choice_label in entry.contact.all %}active{% endif %}">
              <input type="checkbox" autocomplete="off" checked="checked">{{ contact.tag }}{{ contact.choice_label }}
            </label>
          </div>
        {% endfor %}
      </div>
    </div>
    -->
  </form>
  {% endwith %}
{% endblock %}

{% block extra_js %}
  <script src="https://cdn.tiny.cloud/1/1tfb3g0qaiap1ehx0nfximy04m02qfebkdzf8pvd6ant5bhg/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
  <script src="{% static 'js/tinymceinit.js' %}"></script>
{% endblock %}
